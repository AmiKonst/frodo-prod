{"version":3,"file":"Select-wnumB0_K.js","sources":["../../shared/components/ui/Select.vue"],"sourcesContent":["<template>\r\n    <div\r\n        :class=\"[\r\n            valueIcon || props.icon ? 'with-icon' : '',\r\n            props.isError ? 'with-error' : '',\r\n            data.isOpenDropdown ? 'opened' : '',\r\n            props.disabled ? 'disabled' : '',\r\n            'select-field'\r\n        ]\"\r\n    >\r\n        <div @click=\"toggleOpened\">\r\n            <input\r\n                ref=\"field\"\r\n                autocomplete=\"off\"\r\n                :disabled=\"props.disabled\"\r\n                :placeholder=\"props.placeholder\"\r\n                :value=\"valueTitle\"\r\n                :class=\"{\r\n                    'without-placeholder': !props.placeholder,\r\n                    clearable: props.clearable && data.selected && !props.disabled\r\n                }\"\r\n            />\r\n\r\n            <span class=\"placeholder\" :title=\"props.placeholder\">{{ props.placeholder }}</span>\r\n\r\n            <Icon v-if=\"valueIcon || props.icon\" :icon=\"valueIcon || props.icon\" />\r\n\r\n\r\n            <ModalBox v-if=\"data.isOpenDropdown\"\r\n                :field=\"field\"\r\n                :placeOptions=\"{\r\n                    leftAuto: props.leftAuto,\r\n                    rightAuto: props.rightAuto\r\n                }\"\r\n                @close=\"toggleOpened\"\r\n                @onSwipeBottom=\"toggleOpened\"\r\n            >\r\n                <ul>\r\n                    <li\r\n                        v-for=\"option in props.optionList\"\r\n                        :value=\"option.code\"\r\n                        :key=\"option.code\"\r\n                        @click.stop=\"onChoose($event, option)\"\r\n                        :class=\"{ selected: data.selected === option.code }\"\r\n                    >\r\n\r\n                        <slot :option=\"option\">\r\n                            <Icon v-if=\"option.icon\" :icon=\"option.icon\" />\r\n                            <span>{{ props.useI18n ? t(option.name) : option.name }}</span>\r\n                        </slot>\r\n\r\n                        <Icon v-show=\"data.selected === option.code\" icon=\"check\" class=\"check\" />\r\n                    </li>\r\n                </ul>\r\n            </ModalBox>\r\n\r\n            <div class=\"actions-block\">\r\n                <IconButton\r\n                    v-if=\"props.clearable && data.selected && !props.disabled\"\r\n                    tabindex=\"-1\"\r\n                    icon=\"close\"\r\n                    class=\"tertiary size-s\"\r\n                    @click.stop=\"clean\"\r\n                />\r\n\r\n                <Icon icon=\"chevron-down\" class=\"arrow-down\" />\r\n            </div>\r\n        </div>\r\n        <span class=\"error\">{{ props.error }}</span>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useI18n } from 'vue-i18n';\r\nimport { computed, onMounted, reactive, ref, watch } from 'vue';\r\nimport IconButton from 'ðŸ”—/components/ui/IconButton.vue';\r\nimport ModalBox from 'ðŸ”—/components/ui/ModalBox.vue';\r\n\r\nconst { t } = useI18n();\r\nconst field = ref(null);\r\n\r\nconst props = defineProps({\r\n    isError: { type: Boolean, default: false },\r\n    icon: { type: String, default: '' },\r\n    name: { type: String, default: '' },\r\n    value: { type: [Number, String, Boolean], default: null },\r\n    position: { type: Number, default: 0 },\r\n    optionList: {\r\n        type: Array,\r\n        default: () => []\r\n    },\r\n    leftAuto: { type: Boolean, default: true },\r\n    rightAuto: { type: Boolean, default: false },\r\n    placeholder: { type: String, default: '' },\r\n    error: { type: String, default: '' },\r\n    disabled: { type: Boolean, default: false },\r\n    useI18n: { type: Boolean, default: false },\r\n    clearable: { type: Boolean, default: true }\r\n});\r\n\r\nconst data = reactive({\r\n    selected: null,\r\n    isOpenDropdown: false\r\n});\r\n\r\nconst valueTitle = computed(() => {\r\n    const name = data.selected === null ? '' : props.optionList.find((option) => option.code === data.selected)?.name;\r\n\r\n    return name && props.useI18n ? t(name) : name;\r\n});\r\n\r\nconst valueIcon = computed(() =>\r\n    data.selected === null ? '' : props.optionList.find((option) => option.code === data.selected)?.icon\r\n);\r\n\r\nconst emit = defineEmits(['change']);\r\n\r\nconst clean = () => {\r\n    field.value.value = '';\r\n    data.selected = null;\r\n    emit('change', {\r\n        name: props.name,\r\n        value: null,\r\n        position: props.position\r\n    });\r\n};\r\n\r\nconst toggleOpened = () => {\r\n    if (props.disabled) {\r\n        return;\r\n    }\r\n\r\n    data.isOpenDropdown = !data.isOpenDropdown;\r\n\r\n    if (!data.isOpenDropdown) {\r\n        return false;\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    data.selected = props.value;\r\n});\r\n\r\nwatch(() => props.value, (value) => {\r\n    if (value === null && data.selected) {\r\n        data.selected = null;\r\n        return;\r\n    }\r\n\r\n    data.selected = value;\r\n});\r\n\r\nconst hide = () => (data.isOpenDropdown = false);\r\n\r\nconst onChoose = (event, payload) => {\r\n    data.selected = payload.code;\r\n    data.isOpenDropdown = false;\r\n\r\n    emit('change', {\r\n        name: props.name,\r\n        value: payload.code,\r\n        position: props.position\r\n    });\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.select-field {\r\n    display: flex;\r\n    flex-direction: column;\r\n    & > div {\r\n        margin: 0 0 8px;\r\n        display: flex;\r\n        position: relative;\r\n        cursor: pointer;\r\n        width: 100%;\r\n\r\n        &:first-child {\r\n            max-width: var(--input-max-width);\r\n        }\r\n        // max-width: var(--input-max-width);\r\n\r\n        .placeholder {\r\n            @include input-placeholder;\r\n            // padding-right: 80px;\r\n        }\r\n\r\n        .actions-block {\r\n            position: absolute;\r\n            top: 0;\r\n            height: 100%;\r\n            right: 8px;\r\n            display: flex;\r\n            align-items: center;\r\n\r\n            & > svg {\r\n                fill: var(--dark-80);\r\n                stroke: var(--dark-80);\r\n                height: 20px;\r\n                width: 20px;\r\n                margin: 0 0 0 8px;\r\n\r\n                &.arrow-down {\r\n                    fill: var(--dark-80);\r\n                    transition: all 0.4s;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        & > svg {\r\n            &:not(.arrow-down) {\r\n                position: absolute;\r\n                left: 16px;\r\n                top: 50%;\r\n                transform: translateY(-50%);\r\n                width: 20px;\r\n                height: 20px;\r\n                fill: var(--dark-80);\r\n                stroke: var(--dark-80);\r\n            }\r\n        }\r\n\r\n        input {\r\n            @include input;\r\n            padding-right: 44px;\r\n            pointer-events: none;\r\n            &.clearable {\r\n                padding-right: 80px;\r\n            }\r\n        }\r\n\r\n        // input[disabled] {\r\n        //     &:not(:placeholder-shown) {\r\n        //         color: var(--dark-500);\r\n        //         background: var(--white-500);\r\n        //         border: 1px solid var(--gray-20);\r\n        //         // color: var(--dark-20);\r\n        //         // background: var(--light-10);\r\n        //         // border: 1px solid var(--light-20);\r\n        //     }\r\n        // }\r\n\r\n        &:hover {\r\n            input:not([disabled]) {\r\n                border-color: var(--primary-500);\r\n            }\r\n        }\r\n    }\r\n\r\n    &.disabled {\r\n        & > div {\r\n            cursor: default;\r\n        }\r\n    }\r\n\r\n    &.opened {\r\n        & > div {\r\n            .arrow-down {\r\n                transform: rotate(180deg);\r\n            }\r\n\r\n            input {\r\n                border-color: var(--primary-500);\r\n            }\r\n        }\r\n    }\r\n\r\n    & > .error {\r\n        font: var(--font-label);\r\n        color: var(--secondary-500) !important;\r\n        display: flex;\r\n        min-height: 11px;\r\n    }\r\n\r\n    &.with-error {\r\n        & > div {\r\n            input {\r\n                border-color: var(--secondary-500) !important;\r\n            }\r\n\r\n            svg,\r\n            input:not(:placeholder-shown) + .placeholder + svg,\r\n            input:focus + .placeholder + svg {\r\n                fill: var(--secondary-500) !important;\r\n                stroke: var(--secondary-80) !important;\r\n            }\r\n\r\n            input:not(:placeholder-shown) + .placeholder + svg,\r\n            svg {\r\n                color: var(--secondary-500) !important;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.with-icon {\r\n        & > div {\r\n            input {\r\n                padding-left: 52px;\r\n            }\r\n\r\n            .placeholder {\r\n                left: 53px;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.light {\r\n        & > div {\r\n            input {\r\n                padding-top: 8px;\r\n                padding-right: 16px;\r\n                padding-bottom: 8px;\r\n                height: 38px;\r\n            }\r\n\r\n            svg {\r\n                height: 18px;\r\n                width: 18px;\r\n            }\r\n\r\n            input:not(:placeholder-shown) + .placeholder,\r\n            input:focus + .placeholder {\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.with-placeholder {\r\n        & > div {\r\n            input:not(:placeholder-shown) + .placeholder,\r\n            input:focus + .placeholder {\r\n                display: flex;\r\n\r\n                top: -6px;\r\n                background: var(--white-500);\r\n            }\r\n        }\r\n    }\r\n\r\n    &.noerror {\r\n        & > div {\r\n            margin: 0;\r\n        }\r\n        & > .error {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n\r\n    &.inline {\r\n        & > div {\r\n            input {\r\n                border-color: transparent !important;\r\n                background: transparent;\r\n                backdrop-filter: blur(8px);\r\n                -webkit-backdrop-filter: blur(8px);\r\n                border-radius: 0;\r\n            }\r\n\r\n            .actions-block {\r\n                right: 16px;\r\n            }\r\n            & > svg:not(.arrow-down) {\r\n                fill: var(--dark-80) !important;\r\n                stroke: var(--dark-80) !important;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.icon-only {\r\n        & > div {\r\n            width: 44px;\r\n            height: 44px;\r\n            .placeholder,\r\n            input {\r\n                width: 44px;\r\n                opacity: 0;\r\n                padding: 0;\r\n            }\r\n\r\n            & > svg {\r\n                left: 50%;\r\n                top: 50%;\r\n                transform: translateX(-50%) translateY(-50%);\r\n            }\r\n\r\n            .actions-block {\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.direction-rtl .select-field {\r\n    & > div {\r\n        .placeholder {\r\n            padding-right: 0;\r\n            padding-left: 80px;\r\n            left: auto;\r\n            right: 20px;\r\n        }\r\n\r\n        .actions-block {\r\n            right: auto;\r\n            left: 8px;\r\n        }\r\n\r\n        & > svg {\r\n            &:not(.arrow-down) {\r\n                left: auto;\r\n                right: 16px;\r\n            }\r\n        }\r\n\r\n        input {\r\n            padding-right: 20px;\r\n            padding-left: 44px;\r\n            &.clearable {\r\n                padding-left: 80px;\r\n                padding-right: 20px;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.with-icon {\r\n        & > div {\r\n            input {\r\n                padding-right: 52px;\r\n                &:not(.clearable) {\r\n                    padding-left: 20px;\r\n                }\r\n            }\r\n\r\n            .placeholder {\r\n                left: auto;\r\n                right: 53px;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.inline {\r\n        & > div {\r\n            .actions-block {\r\n                right: auto;\r\n                left: 16px;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.icon-only {\r\n        & > div {\r\n            & > svg {\r\n                left: auto;\r\n                right: 50%;\r\n                transform: translateX(50%) translateY(-50%);\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"names":[],"mappings":"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"}