{"version":3,"file":"ModalEditFirstName-Cu63SUso.js","sources":["../../src/pages/Settings/modals/ModalEditFirstName.vue"],"sourcesContent":["<template>\r\n    <BaseModal\r\n        :isLoading=\"data.loading\"\r\n        :name=\"props.name\"\r\n        :mobileMode=\"true\"\r\n        :closeOutside=\"true\"\r\n        class=\"modal-edit-firstname\"\r\n    >\r\n        <template v-slot:title>{{ t('modals.edit-firstname.title') }}</template>\r\n\r\n        <template v-slot:content>\r\n            <Field\r\n                ref=\"field\"\r\n                name=\"firstname\"\r\n                class=\"light inside noerror\"\r\n                :value=\"data.firstName\"\r\n                @change=\"onFieldChange\"\r\n            />\r\n\r\n            <div class=\"buttons\">\r\n                <Button\r\n                    @click=\"save\"\r\n                    :disabled=\"data.firstName?.trim().length < 2\"\r\n                    class=\"size-m\"\r\n                    :name=\"t('modals.edit-firstname.save')\"\r\n                />\r\n            </div>\r\n        </template>\r\n    </BaseModal>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, reactive, ref } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport BaseModal from 'ðŸ”—/components/modals/BaseModal.vue';\r\nimport Field from 'ðŸ”—/components/ui/Field.vue';\r\nimport Button from 'ðŸ”—/components/ui/Button.vue';\r\n\r\nimport stores from '@/stores';\r\nconst modals = stores.modals();\r\nconst user = stores.user();\r\n\r\nconst field = ref(null);\r\n\r\nconst { t } = useI18n();\r\n\r\nconst data = reactive({\r\n    firstName: user.profile?.firstName,\r\n    loading: true\r\n});\r\n\r\nconst props = defineProps({\r\n    name: {\r\n        type: String,\r\n        default: 'edit-firstname'\r\n    }\r\n});\r\n\r\nconst onFieldChange = ({ target }) => {\r\n    data.firstName = target.value?.trim();\r\n}\r\n\r\nconst save = async () => {\r\n    if (data.firstName?.trim().length < 2) {\r\n        return;\r\n    }\r\n\r\n    data.loading = true;\r\n\r\n    await user.updateFirstName(data.firstName.trim());\r\n\r\n    setTimeout(() => {\r\n        modals.open('success', {\r\n            data: {\r\n                title: t('modals.edit-firstname.done.title'),\r\n                description: t('modals.edit-firstname.done.description'),\r\n                close: t('modals.edit-firstname.done.close')\r\n            },\r\n            quietClose: true\r\n        });\r\n\r\n        modals.close(props.name);\r\n    }, 200);\r\n}\r\n\r\nonMounted(async () => {\r\n    data.loading = false;\r\n\r\n    if (field.value?.field?.focus) {\r\n        field.value.field.focus();\r\n    }\r\n});\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .modal-edit-firstname {\r\n        max-width: 420px;\r\n    }\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .modal-edit-firstname {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 20px\r\n    }\r\n\r\n    .buttons {\r\n        display: flex;\r\n        flex-shrink: 0;\r\n        flex-direction: row;\r\n        gap: 8px;\r\n        align-items: center;\r\n        justify-content: end;\r\n    }\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AA+Bc;AASd,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC/B,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;AAC3B;AACA,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;AACxB;AACA,MAAM,EAAE,CAAC,EAAE,GAAG,OAAO,EAAE,CAAC;AACxB;AACA,MAAM,IAAI,GAAG,QAAQ,CAAC;AACtB,IAAI,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,SAAS;AACtC,IAAI,OAAO,EAAE,IAAI;AACjB,CAAC,CAAC,CAAC;AACH;AACA,MAAM,KAAK,GAAG,OAKZ,CAAC;AACH;AACA,MAAM,aAAa,GAAG,CAAC,EAAE,MAAM,EAAE,KAAK;AACtC,IAAI,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;AAC1C,EAAC;AACD;AACA,MAAM,IAAI,GAAG,YAAY;AACzB,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3C,QAAQ,OAAO;AACf,IAAI,CAAC;AACL;AACA,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACxB;AACA,IAAI,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AACtD;AACA,IAAI,UAAU,CAAC,MAAM;AACrB,QAAQ,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE;AAC/B,YAAY,IAAI,EAAE;AAClB,gBAAgB,KAAK,EAAE,CAAC,CAAC,kCAAkC,CAAC;AAC5D,gBAAgB,WAAW,EAAE,CAAC,CAAC,wCAAwC,CAAC;AACxE,gBAAgB,KAAK,EAAE,CAAC,CAAC,kCAAkC,CAAC;AAC5D,aAAa;AACb,YAAY,UAAU,EAAE,IAAI;AAC5B,SAAS,CAAC,CAAC;AACX;AACA,QAAQ,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACjC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;AACZ,EAAC;AACD;AACA,SAAS,CAAC,YAAY;AACtB,IAAI,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACzB;AACA,IAAI,IAAI,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;AACnC,QAAQ,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;AAClC,IAAI,CAAC;AACL,CAAC,CAAC,CAAC;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}