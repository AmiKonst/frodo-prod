{"version":3,"file":"Favorite-CQHrcv9Z.js","sources":["../../src/pages/Favorite/Favorite.vue"],"sourcesContent":["<template>\r\n    <div class=\"head\">\r\n        <label class=\"title\">{{ t('pages.favorite.title') }}</label>    \r\n        <IconButton icon=\"settings\" class=\"tertiary size-l\" @click=\"nav.open('settings')\" />\r\n    </div>\r\n\r\n    <EmptyLabel\r\n        animate-icon=\"tracks\"\r\n        :title=\"t('pages.favorite.tracks.empty.title')\"\r\n        :description=\"t('pages.favorite.tracks.empty.description')\"\r\n    />\r\n\r\n    <div class=\"more\">\r\n        <label class=\"title\">{{ t('pages.favorite.more.title') }}</label>\r\n\r\n        <div>\r\n            <Button icon=\"playlist\"\r\n                :name=\"t('pages.favorite.playlists.title')\"\r\n                class=\"tap\"\r\n                @click=\"nav.open('favorite-playlists')\" />\r\n\r\n            <Button icon=\"artists\"\r\n                :name=\"t('pages.favorite.artists.title')\"\r\n                class=\"tap\"\r\n                @click=\"nav.open('favorite-artists')\" />\r\n\r\n\r\n            <Button v-if=\"data.myArtistsPreview?.length\"\r\n                :name=\"t('pages.favorite.my-artists.title')\"\r\n                class=\"tap\"\r\n                @click=\"data.myArtistsPreview?.length === 1 ? nav.open('artist', { code: data.myArtistsPreview[0].code }) : nav.open('favorite-my-artists')\">\r\n                <template v-slot:collage>\r\n                    <Collage :items=\"data.myArtistsPreview.map(item => item.profileImage)\"\r\n                        :default=\"defaultProfileImage\"\r\n                        borderRadius=\"12px\"\r\n                    />\r\n                </template>\r\n            </Button>\r\n        </div>\r\n    </div>\r\n\r\n    <Ready page=\"favorite\" :init=\"init\" />\r\n</template>\r\n\r\n<script setup>\r\n    import { computed, onMounted, onBeforeUnmount, reactive } from 'vue';\r\n    import { useI18n } from 'vue-i18n';\r\n    import IconButton from 'ðŸ”—/components/ui/IconButton.vue';\r\n    import Button from 'ðŸ”—/components/ui/Button.vue';\r\n    import EmptyLabel from 'ðŸ”—/components/ui/EmptyLabel.vue';\r\n    import Collage from 'ðŸ”—/components/ui/Collage.vue';\r\n    import Ready from 'ðŸ”—/components/ui/Ready.vue';\r\n    import api from 'ðŸ”—/api';\r\n\r\n    const { t } = useI18n();\r\n\r\n    // import { storeToRefs } from 'pinia';\r\n    import stores from '@/stores';\r\n\r\n    const user = stores.user();\r\n    const nav = stores.nav();\r\n    const tg = stores.tg();\r\n\r\n    const others = stores.others();\r\n\r\n\r\n    const data = reactive({\r\n        myArtistsPreview: []\r\n    });\r\n\r\n    const defaultProfileImage = computed(() => {\r\n        return api.artists().defaultProfileImage;\r\n    });\r\n\r\n    const init = async () => {\r\n        const payload = await api.user().getMyArtistsPreview();\r\n\r\n        data.myArtistsPreview = payload?.items || [];\r\n    }\r\n\r\n    const openSettings = () => {\r\n        stores.nav().open('settings');\r\n    }\r\n\r\n    onMounted(() => {\r\n        tg.showSettingsButton(openSettings);\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n        tg.hideSettingsButton(openSettings);\r\n    });\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .head {\r\n        @include page-title;\r\n    }\r\n\r\n    .more {\r\n        padding: 0 16px var(--block-gap);\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 32px;\r\n        width: 100%;\r\n        justify-content: start;\r\n        .title {\r\n            font: var(--font-h6);\r\n            font-weight: bold;\r\n            color: var(--dark-500);\r\n        }\r\n\r\n        & > div {\r\n            display: flex;\r\n            flex-direction: row;\r\n            gap: 8px;\r\n            flex-wrap: wrap;\r\n\r\n            button {\r\n                flex: 1 1 50%;\r\n                max-width: calc(50% - 4px);\r\n            }\r\n        }\r\n    }\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;AA0DA;AACA;;;;AAfc;AACd,IASI,MAAM,EAAE,CAAC,EAAE,GAAG,OAAO,EAAE,CAAC;AAC5B;AACA;AACA,IAEiB,MAAM,CAAC,IAAI,GAAG;AAC/B,IAAI,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC;AAC7B,IAAI,MAAM,EAAE,GAAG,MAAM,CAAC,EAAE,EAAE,CAAC;AAC3B;AACA,IAAmB,MAAM,CAAC,MAAM,GAAG;AACnC;AACA;AACA,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC;AAC1B,QAAQ,gBAAgB,EAAE,EAAE;AAC5B,KAAK,CAAC,CAAC;AACP;AACA,IAAI,MAAM,mBAAmB,GAAG,QAAQ,CAAC,MAAM;AAC/C,QAAQ,OAAO,GAAG,CAAC,OAAO,EAAE,CAAC,mBAAmB,CAAC;AACjD,IAAI,CAAC,CAAC,CAAC;AACP;AACA,IAAI,MAAM,IAAI,GAAG,YAAY;AAC7B,QAAQ,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC,mBAAmB,EAAE,CAAC;AAC/D;AACA,QAAQ,IAAI,CAAC,gBAAgB,GAAG,OAAO,EAAE,KAAK,IAAI,EAAE,CAAC;AACrD,IAAI,EAAC;AACL;AACA,IAAI,MAAM,YAAY,GAAG,MAAM;AAC/B,QAAQ,MAAM,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AACtC,IAAI,EAAC;AACL;AACA,IAAI,SAAS,CAAC,MAAM;AACpB,QAAQ,EAAE,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;AAC5C,IAAI,CAAC,CAAC,CAAC;AACP;AACA,IAAI,eAAe,CAAC,MAAM;AAC1B,QAAQ,EAAE,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;AAC5C,IAAI,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}