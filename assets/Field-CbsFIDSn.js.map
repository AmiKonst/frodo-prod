{"version":3,"file":"Field-CbsFIDSn.js","sources":["../../shared/components/ui/Field.vue"],"sourcesContent":["<template>\r\n    <div class=\"field\" :class=\"[\r\n        props.icon ? 'with-icon' : '',\r\n        props.isError || props.error ? 'with-error' : ''\r\n    ]\">\r\n        <div>\r\n            <input\r\n                v-bind:class=\"{\r\n                    'without-placeholder': !props.placeholder,\r\n                    clearable: props.clearable && !props.readonly,\r\n                    info: !!props.info\r\n                }\"\r\n                ref=\"field\"\r\n                :type=\"data.type === 'time' || props.mask ? 'text' : data.type\"\r\n                :name=\"props.name\"\r\n                :min=\"props.min\"\r\n                :max=\"props.max\"\r\n                :maxlength=\"props.maxlength\"\r\n                :disabled=\"props.disabled\"\r\n                :placeholder=\"props.placeholder\"\r\n                :autocomplete=\"autocomplete\"\r\n                :readonly=\"props.readonly\"\r\n                @input=\"onInput\"\r\n                @blur=\"onBlur\"\r\n                @keyup.enter=\"onPressEnter\"\r\n            />\r\n\r\n            <span class=\"placeholder\" :title=\"props.placeholder\">{{ props.placeholder }}</span>\r\n\r\n            <Icon v-if=\"props.icon\" :icon=\"props.icon\" />\r\n\r\n            <div class=\"actions-block\">\r\n                <IconButton\r\n                    v-if=\"props.type === 'password' && data.type === 'password'\"\r\n                    tabindex=\"-1\"\r\n                    icon=\"eye-closed\"\r\n                    class=\"tertiary size-s\"\r\n                    @click=\"showPassword\"\r\n                />\r\n    \r\n                <IconButton\r\n                    v-else-if=\"props.type === 'password' && data.type === 'text'\"\r\n                    tabindex=\"-1\"\r\n                    icon=\"eye-opened\"\r\n                    class=\"tertiary size-s\"\r\n                    @click=\"hidePassword\"\r\n                />\r\n    \r\n                <IconButton\r\n                    v-else-if=\"props.clearable && !props.readonly\"\r\n                    tabindex=\"-1\"\r\n                    icon=\"close\"\r\n                    class=\"tertiary size-s clean\"\r\n                    @click=\"clean\"\r\n                />\r\n\r\n                <Icon v-if=\"props.info\" icon=\"help\" class=\"icon-info\" :title=\"props.info\" />\r\n            </div>\r\n        </div>\r\n        <span class=\"error\">{{ props.error }}</span>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, reactive, ref } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport IconButton from 'ðŸ”—/components/ui/IconButton.vue';\r\nimport IMask from 'imask';\r\n\r\nconst props = defineProps({\r\n    isError: { type: Boolean, default: false },\r\n    icon: { type: String, default: '' },\r\n    value: { type: [String, Number, Object], default: '' },\r\n    name: { type: [String, Number], default: '' },\r\n    id: { type: String, default: '' },\r\n    placeholder: { type: String, default: '' },\r\n    type: { type: String, default: 'text' },\r\n    maxlength: { type: [Number, null], default: null },\r\n    max: { type: Number, default: null },\r\n    min: { type: Number, default: null },\r\n    disabled: { type: Boolean, default: false },\r\n    error: { type: String, default: '' },\r\n    autocomplete: { type: String, default: 'off' },\r\n    readonly: { type: Boolean, default: false },\r\n    clearable: { type: Boolean, default: true },\r\n    info: { type: [String, Boolean], default: false },\r\n    mask: { type: [Object, null], default: null },\r\n    autofocus: { type: [String, Boolean], default: false }\r\n});\r\n\r\nconst { t } = useI18n();\r\n\r\nconst field = ref(null);\r\n\r\nconst data = reactive({\r\n    type: props.type\r\n});\r\n\r\nconst emit = defineEmits(['change', 'pressEnter']);\r\n\r\ndefineExpose({ field, data });\r\n\r\nconst showPassword = () => {\r\n    data.type = 'text';\r\n};\r\n\r\nconst hidePassword = () => {\r\n    data.type = 'password';\r\n};\r\n\r\nconst clean = () => {\r\n    field.value.value = '';\r\n    setTimeout(() => {\r\n        onInput({ target: field.value });\r\n        field.value.focus();\r\n    });\r\n};\r\n\r\nonMounted(() => {\r\n    if (field.value && props.mask) {\r\n        data.maskInstance = IMask(field.value, props.mask);\r\n\r\n        data.maskInstance.on('accept', () => {\r\n            emit('change', { target: data.maskInstance });\r\n        });\r\n\r\n        if (props.value !== null) {\r\n            if (props.mask.format) {\r\n                data.maskInstance.value = props.mask.format(props.value);\r\n            }\r\n            data.maskInstance.typedValue = props.value;\r\n        }\r\n\r\n    } else {\r\n        if (props.value !== null) {\r\n            field.value.value = props.value;\r\n        }\r\n    }\r\n\r\n    if (props.autofocus) {\r\n        field.value.focus();\r\n    }\r\n});\r\n\r\nconst onPressEnter = (evn) => {\r\n    onInput(evn);\r\n    emit('pressEnter', evn);\r\n};\r\n\r\nconst onBlur = (evn) => {\r\n    let value = evn.target.value.trimStart();\r\n\r\n    if (value) {\r\n        if (typeof props.min === 'number') {\r\n            if (parseFloat(value, 10) < props.min || Number.isNaN(parseInt(value, 10))) {\r\n                value = props.min;\r\n\r\n                setTimeout(() => {\r\n                    if (evn.target && evn.target.value !== value) {\r\n                        evn.target.value = value;\r\n                    }\r\n\r\n                    emit('change', evn);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst onInput = (evn) => {\r\n    if (!evn?.target || props.mask) {\r\n        return;\r\n    }\r\n\r\n    if (['.', ',', '-'].includes(evn.data)) {\r\n        if (!evn.target.value) {\r\n            emit('change', evn);\r\n        }\r\n        return;\r\n    }\r\n\r\n    let value = evn.target.value.trimStart();\r\n\r\n    if (value) {\r\n        if (typeof props.min === 'number') {\r\n            // if (parseFloat(value, 10) < props.min || Number.isNaN(parseInt(value, 10))) {\r\n            //     value = props.min;\r\n            // }\r\n        }\r\n\r\n        if (typeof props.max === 'number') {\r\n            if (parseFloat(value, 10) > props.max) {\r\n                value = props.max;\r\n            }\r\n        }\r\n    } else {\r\n        value = '';\r\n    }\r\n\r\n\r\n    evn.target.value = value;\r\n\r\n    setTimeout(() => {\r\n        if (evn.target && evn.target.value !== value) {\r\n            evn.target.value = value;\r\n        }\r\n    });\r\n\r\n    emit('change', evn);\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ndiv.field {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    & > div {\r\n        margin: 0 0 8px;\r\n        display: flex;\r\n        position: relative;\r\n        width: 100%;\r\n        max-width: var(--input-max-width);\r\n\r\n        .placeholder {\r\n            @include input-placeholder;\r\n        }\r\n\r\n        input {\r\n            @include input;\r\n            &.clearable {\r\n                padding-right: 40px;\r\n                &.info {\r\n                    padding-right: 80px;\r\n                }\r\n            }\r\n\r\n            &.info {\r\n                padding-right: 40px;\r\n                &.clearable {\r\n                    padding-right: 80px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .actions-block {\r\n            position: absolute;\r\n            display: flex;\r\n            align-items: center;\r\n            right: 8px;\r\n            height: 100%;\r\n            svg {\r\n                margin: 0 8px;\r\n            }\r\n        }\r\n \r\n        svg {\r\n            &.icon-info {\r\n                fill: var(--primary-80);\r\n                stroke: var(--tertiary-500);\r\n                width: 20px;\r\n                height: 20px;\r\n                cursor: pointer;\r\n\r\n                &:hover {\r\n                    fill: var(--primary-500);\r\n                    stroke: var(--tertiary-500);\r\n                }\r\n            }\r\n            &:not(.icon-info) {\r\n                position: absolute;\r\n                left: 16px;\r\n                top: 50%;\r\n                transform: translateY(-50%);\r\n                width: 20px;\r\n                height: 20px;\r\n                fill: var(--dark-500);\r\n                stroke: var(--dark-80);\r\n            }\r\n        }\r\n    }\r\n\r\n    &.with-icon {\r\n        & > div {\r\n            input {\r\n                padding-left: 52px;\r\n            }\r\n\r\n            .placeholder {\r\n                left: 53px;\r\n            }\r\n        }\r\n    }\r\n\r\n    & > .error {\r\n        font: var(--font-label);\r\n        color: var(--secondary-500) !important;\r\n        display: flex;\r\n        min-height: 11px;\r\n    }\r\n\r\n    &.with-error {\r\n        & > div {\r\n            input {\r\n                border-color: var(--secondary-500) !important;\r\n            }\r\n\r\n            input:not(:placeholder-shown) + .placeholder,\r\n            input:focus + .placeholder {\r\n                color: var(--secondary-500) !important;\r\n            }\r\n\r\n            input:not(:placeholder-shown) + .placeholder + svg,\r\n            input:focus + .placeholder + svg {\r\n                fill: var(--secondary-500) !important;\r\n                stroke: var(--secondary-80) !important;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.light {\r\n        & > div {\r\n            input {\r\n                padding-top: 8px;\r\n                padding-bottom: 8px;\r\n                height: 38px;\r\n            }\r\n\r\n            svg {\r\n                height: 18px;\r\n                wigth: 18px;\r\n            }\r\n\r\n            input:not(:placeholder-shown) + .placeholder,\r\n            input:focus + .placeholder {\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.with-placeholder {\r\n        & > div {\r\n            input:not(:placeholder-shown) + .placeholder,\r\n            input:focus + .placeholder {\r\n                display: flex;\r\n\r\n                top: -6px;\r\n                background: var(--white-500);\r\n            }\r\n        }\r\n    }\r\n\r\n    &.small {\r\n        & > div {\r\n            input {\r\n                padding-top: 0;\r\n                padding-bottom: 0;\r\n                height: 24px;\r\n            }\r\n\r\n            svg {\r\n                height: 24px;\r\n            }\r\n\r\n            input:not(:placeholder-shown) + .placeholder,\r\n            input:focus + .placeholder {\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.noerror {\r\n        & > div {\r\n            margin: 0;\r\n        }\r\n        & > .error {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    &.inside {\r\n        input {\r\n            border: none;\r\n            background-color: var(--light-20);\r\n        }\r\n    }\r\n}\r\n\r\ndiv.field.rtl,\r\n.direction-rtl div.field:not(.ltr) {\r\n    direction: rtl;\r\n    & > div {\r\n        .placeholder {\r\n            left: auto;\r\n            right: 20px;\r\n        }\r\n\r\n        input {\r\n            &.clearable {\r\n                padding-right: 20px;\r\n                padding-left: 40px;\r\n                &.info {\r\n                    padding-right: 20px;\r\n                    padding-left: 80px;\r\n                }\r\n            }\r\n\r\n            &.info {\r\n                padding-right: 20px;\r\n                padding-left: 40px;\r\n                &.clearable {\r\n                    padding-right: 20px;\r\n                    padding-left: 80px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .actions-block {\r\n            right: auto;\r\n            left: 8px;\r\n        }\r\n \r\n        svg {\r\n            &:not(.icon-info) {\r\n                left: auto;\r\n                right: 16px;\r\n            }\r\n        }\r\n    }\r\n\r\n    &.with-icon {\r\n        & > div {\r\n            input {\r\n                padding-right: 52px;\r\n                &:not(.clearable):not(.info) {\r\n                    padding-left: 20px;\r\n                }\r\n            }\r\n\r\n            .placeholder {\r\n                left: auto;\r\n                right: 53px;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;AAoEA;;;;;;;;;;;;;;;;;;;;;;;;;;AALc;AAMd,MAAM,KAAK,GAAG,OAmBZ,CAAC;AACH;AACA,MAAM,EAAE,CAAC,EAAE,GAAG,OAAO,EAAE,CAAC;AACxB;AACA,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;AACxB;AACA,MAAM,IAAI,GAAG,QAAQ,CAAC;AACtB,IAAI,IAAI,EAAE,KAAK,CAAC,IAAI;AACpB,CAAC,CAAC,CAAC;AACH;AACA,MAAM,IAAI,GAAG,MAAqC,CAAC;AACnD;AACA,QAAY,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9B;AACA,MAAM,YAAY,GAAG,MAAM;AAC3B,IAAI,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;AACvB,CAAC,CAAC;AACF;AACA,MAAM,YAAY,GAAG,MAAM;AAC3B,IAAI,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;AAC3B,CAAC,CAAC;AACF;AACA,MAAM,KAAK,GAAG,MAAM;AACpB,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;AAC3B,IAAI,UAAU,CAAC,MAAM;AACrB,QAAQ,OAAO,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;AACzC,QAAQ,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;AAC5B,IAAI,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AACF;AACA,SAAS,CAAC,MAAM;AAChB,IAAI,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,IAAI,EAAE;AACnC,QAAQ,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;AAC3D;AACA,QAAQ,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,EAAE,MAAM;AAC7C,YAAY,IAAI,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;AAC1D,QAAQ,CAAC,CAAC,CAAC;AACX;AACA,QAAQ,IAAI,KAAK,CAAC,KAAK,KAAK,IAAI,EAAE;AAClC,YAAY,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE;AACnC,gBAAgB,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACzE,YAAY,CAAC;AACb,YAAY,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC;AACvD,QAAQ,CAAC;AACT;AACA,IAAI,CAAC,MAAM;AACX,QAAQ,IAAI,KAAK,CAAC,KAAK,KAAK,IAAI,EAAE;AAClC,YAAY,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;AAC5C,QAAQ,CAAC;AACT,IAAI,CAAC;AACL;AACA,IAAI,IAAI,KAAK,CAAC,SAAS,EAAE;AACzB,QAAQ,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;AAC5B,IAAI,CAAC;AACL,CAAC,CAAC,CAAC;AACH;AACA,MAAM,YAAY,GAAG,CAAC,GAAG,KAAK;AAC9B,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;AACjB,IAAI,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;AAC5B,CAAC,CAAC;AACF;AACA,MAAM,MAAM,GAAG,CAAC,GAAG,KAAK;AACxB,IAAI,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;AAC7C;AACA,IAAI,IAAI,KAAK,EAAE;AACf,QAAQ,IAAI,OAAO,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;AAC3C,YAAY,IAAI,UAAU,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE;AACxF,gBAAgB,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;AAClC;AACA,gBAAgB,UAAU,CAAC,MAAM;AACjC,oBAAoB,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,KAAK,KAAK,EAAE;AAClE,wBAAwB,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;AACjD,oBAAoB,CAAC;AACrB;AACA,oBAAoB,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACxC,gBAAgB,CAAC,CAAC,CAAC;AACnB,YAAY,CAAC;AACb,QAAQ,CAAC;AACT,IAAI,CAAC;AACL,EAAC;AACD;AACA,MAAM,OAAO,GAAG,CAAC,GAAG,KAAK;AACzB,IAAI,IAAI,CAAC,GAAG,EAAE,MAAM,IAAI,KAAK,CAAC,IAAI,EAAE;AACpC,QAAQ,OAAO;AACf,IAAI,CAAC;AACL;AACA,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AAC5C,QAAQ,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE;AAC/B,YAAY,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AAChC,QAAQ,CAAC;AACT,QAAQ,OAAO;AACf,IAAI,CAAC;AACL;AACA,IAAI,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;AAC7C;AACA,IAAI,IAAI,KAAK,EAAE;AACf,QAAQ,IAAI,OAAO,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE,CAIlC;AACT;AACA,QAAQ,IAAI,OAAO,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;AAC3C,YAAY,IAAI,UAAU,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE;AACnD,gBAAgB,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC;AAClC,YAAY,CAAC;AACb,QAAQ,CAAC;AACT,IAAI,CAAC,MAAM;AACX,QAAQ,KAAK,GAAG,EAAE,CAAC;AACnB,IAAI,CAAC;AACL;AACA;AACA,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;AAC7B;AACA,IAAI,UAAU,CAAC,MAAM;AACrB,QAAQ,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,KAAK,KAAK,EAAE;AACtD,YAAY,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;AACrC,QAAQ,CAAC;AACT,IAAI,CAAC,CAAC,CAAC;AACP;AACA,IAAI,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACxB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}