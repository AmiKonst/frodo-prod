{"version":3,"file":"Tracks-D7fifSWG.js","sources":["../../shared/components/blocks/Tracks.vue"],"sourcesContent":["<template>\r\n    <Block code=\"tracks\"\r\n        v-bind=\"props\"\r\n        ref=\"block\"\r\n        @change=\"onClick\"\r\n        :id=\"player.panes?.default?._item?.id\"\r\n        :sliderProps=\"{\r\n            itemWidth: '90%',\r\n            colAlign: 'start',\r\n            colGap: '8px',\r\n            rowGap: '8px'\r\n        }\"\r\n    >\r\n        <template #list-item=\"{ item }\">\r\n            <TrackPreview\r\n                :item=\"item\"\r\n                :light=\"true\"\r\n                :showKebab=\"props.showKebab\"\r\n                @play=\"onPlaying(item)\"\r\n            />\r\n        </template>\r\n\r\n        <template #list-skeleton>\r\n            <TrackPreview\r\n                :skeleton=\"true\"\r\n                :playable=\"false\"\r\n                :light=\"true\"\r\n            />\r\n        </template>\r\n\r\n        <template #row-item=\"{ item }\">\r\n            <TrackPreview\r\n                :item=\"item\"\r\n                :light=\"true\"\r\n                :showKebab=\"props.showKebab\"\r\n                @play=\"onPlaying(item)\"\r\n            />\r\n        </template>\r\n\r\n        <template #row-skeleton>\r\n            <TrackPreview\r\n                :skeleton=\"true\"\r\n                :light=\"true\"\r\n            />\r\n        </template>\r\n    </Block>\r\n</template>\r\n\r\n<script setup>\r\n    import Block from 'ðŸ”—/components/blocks/Block.vue';\r\n\r\n    import { ref } from 'vue';\r\n    import TrackPreview from 'ðŸ”—/components/ui/TrackPreview.vue';\r\n    import stores from '@/stores';\r\n\r\n    const emit = defineEmits(['change']);\r\n\r\n    const nav = stores.nav();\r\n    const player = stores.player();\r\n\r\n    const block = ref(null);\r\n\r\n    const props = defineProps({\r\n        empty: { type: Object, default: () => ({}) },\r\n        items: { type: Array, default: () => ([]) },\r\n        title: { type: [Object, String, null], default: null },\r\n        params: { type: Object, default: () => ({}) },\r\n        options: { type: Object, default: () => ({}) },\r\n        sort: { type: [Object, null], default: () => ({\r\n            code: 'name',\r\n            direction: 'asc'\r\n        }) },\r\n        loadMore: { type: Boolean, default: true },\r\n        showKebab: { type: Boolean, default: false },\r\n        skeleton: { type: Boolean, default: true },\r\n        skeletonCount: { type: Number, default: 6 },\r\n        itemsInCol: { type: Number, default: 3 },\r\n        take: { type: Number, default: 30 },\r\n        handler: { type: [String, null], default: () => null },\r\n        type: { type: String, default: 'list' },\r\n        source: { type: [Object, null], default: () => ({ store: 'tracks', fnName: 'list' }) },\r\n        buttons: { type: Array, default: () => ([]) },\r\n        getById: { type: [String, null], default: null }\r\n    });\r\n\r\n    const reload = () => {\r\n        if (block?.value?.reload) {\r\n            block.value.reload();\r\n        }\r\n    };\r\n\r\n    const onClick = (item) => {\r\n        emit('change', item);\r\n\r\n        if (props.handler === 'track' && item?.id) {\r\n            nav.open('track', { id: item?.id });\r\n        }\r\n    }\r\n\r\n    const onPlaying = (item) => {\r\n        const { items, total } = block.value.getState();\r\n\r\n        player.tracks({\r\n            params: props.params,\r\n            sort: props.sort,\r\n            options: {\r\n                ...props.options,\r\n                source: props.source,\r\n                items: [...items],\r\n                total\r\n            },\r\n            loadMore: !props.options?.type || ['artist', 'playlist'].indexOf(props.options?.type) !== -1 \r\n        });\r\n    }\r\n\r\n    defineExpose({\r\n        reload\r\n    });\r\n\r\n</script>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDc;AACd,IAMI,MAAM,IAAI,GAAG,MAAuB,CAAC;AACzC;AACA,IAAI,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC;AAC7B,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AACnC;AACA,IAAI,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;AAC5B;AACA,IAAI,MAAM,KAAK,GAAG,OAqBZ,CAAC;AACP;AACA,IAAI,MAAM,MAAM,GAAG,MAAM;AACzB,QAAQ,IAAI,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE;AAClC,YAAY,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;AACjC,QAAQ,CAAC;AACT,IAAI,CAAC,CAAC;AACN;AACA,IAAI,MAAM,OAAO,GAAG,CAAC,IAAI,KAAK;AAC9B,QAAQ,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC7B;AACA,QAAQ,IAAI,KAAK,CAAC,OAAO,KAAK,OAAO,IAAI,IAAI,EAAE,EAAE,EAAE;AACnD,YAAY,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;AAChD,QAAQ,CAAC;AACT,IAAI,EAAC;AACL;AACA,IAAI,MAAM,SAAS,GAAG,CAAC,IAAI,KAAK;AAChC,QAAQ,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;AACxD;AACA,QAAQ,MAAM,CAAC,MAAM,CAAC;AACtB,YAAY,MAAM,EAAE,KAAK,CAAC,MAAM;AAChC,YAAY,IAAI,EAAE,KAAK,CAAC,IAAI;AAC5B,YAAY,OAAO,EAAE;AACrB,gBAAgB,GAAG,KAAK,CAAC,OAAO;AAChC,gBAAgB,MAAM,EAAE,KAAK,CAAC,MAAM;AACpC,gBAAgB,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC;AACjC,gBAAgB,KAAK;AACrB,aAAa;AACb,YAAY,QAAQ,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,EAAE;AACxG,SAAS,CAAC,CAAC;AACX,IAAI,EAAC;AACL;AACA,IAAI,QAAY,CAAC;AACjB,QAAQ,MAAM;AACd,KAAK,CAAC,CAAC;AACP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}