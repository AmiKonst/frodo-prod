{"version":3,"file":"Favorite-C2EZVq7p.js","sources":["../../shared/components/ui/Collage.vue","../../src/pages/Favorite/Favorite.vue"],"sourcesContent":["<template>\r\n    <div\r\n        class=\"collage\"\r\n        v-if=\"itemsToRender.length\"\r\n        :style=\"{\r\n            '--gap': props.gap,\r\n            '--border-radius': props.borderRadius\r\n        }\"\r\n    >\r\n        <template v-for=\"(item, index) in itemsToRender\" :key=\"index\">\r\n            <Img\r\n                class=\"collage-item\"\r\n                :class=\"[\r\n                    `layout-${itemsToRender.length}-${index + 1}`,\r\n                    cornerClass(itemsToRender.length, index + 1),\r\n                    animationClass\r\n                ]\"\r\n                :skeleton=\"true\"\r\n                :preview=\"item?.resized || props.default?.resized\"\r\n                :original=\"item?.original || props.default?.original\"\r\n                :alt=\"item?.alt || ''\"\r\n            />\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import { computed } from 'vue';\r\n    import Img from 'üîó/components/ui/Img.vue';\r\n\r\n    const props = defineProps({\r\n        items: { type: Array, default: () => [] },\r\n        default: { type: [Object, null], default: null },\r\n        gap: { type: String, default: '2px' },\r\n        borderRadius: { type: String, default: '8px' },\r\n        maxPreviewCount: { type: [Number, null], default: 8 },\r\n        animationType: {\r\n            type: String,\r\n            default: 'none',\r\n            validator: val => ['none', 'breath', 'float', 'tilt', 'pulse'].includes(val)\r\n        }\r\n    });\r\n\r\n    const itemsToRender = computed(() => {\r\n        return props.maxPreviewCount !== null\r\n            ? props.items.slice(0, props.maxPreviewCount)\r\n            : props.items;\r\n    });\r\n\r\n    const animationClass = computed(() => {\r\n        return props.animationType !== 'none' ? `img-anim-${props.animationType}` : '';\r\n    });\r\n\r\n    function cornerClass(count, pos) {\r\n        const cornersMap = {\r\n            1: { 1: 'corner-all' },\r\n            2: { 1: 'corner-left', 2: 'corner-right' },\r\n            3: { 1: 'corner-top-left', 2: 'corner-top-right', 3: 'corner-bottom' },\r\n            4: {\r\n                1: 'corner-top-left',\r\n                2: 'corner-top-right',\r\n                3: 'corner-bottom-left',\r\n                4: 'corner-bottom-right'\r\n            },\r\n            5: { 1: 'corner-top-left', 2: 'corner-top-right', 5: 'corner-bottom' },\r\n            6: { 1: 'corner-top-left', 3: 'corner-top-right', 4: 'corner-bottom-left', 6: 'corner-bottom-right' },\r\n            7: { 1: 'corner-top-left', 3: 'corner-top-right', 4: 'corner-bottom-left', 6: 'corner-bottom-right' },\r\n            8: { 1: 'corner-top-left', 4: 'corner-top-right', 5: 'corner-bottom-left', 8: 'corner-bottom-right' }\r\n        };\r\n\r\n        return (cornersMap[count] && cornersMap[count][pos]) || '';\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .collage {\r\n        position: relative;\r\n        width: 100%;\r\n        aspect-ratio: 1 / 1;\r\n    }\r\n\r\n    .collage-item {\r\n        position: absolute;\r\n        object-fit: cover;\r\n        overflow: hidden;\r\n        border-radius: 0;\r\n        will-change: transform, opacity;\r\n    }\r\n\r\n    /* –°–∫—Ä—É–≥–ª–µ–Ω–∏—è */\r\n    .corner-all {\r\n        border-radius: var(--border-radius);\r\n    }\r\n    .corner-top-left {\r\n        border-top-left-radius: var(--border-radius);\r\n    }\r\n    .corner-top-right {\r\n        border-top-right-radius: var(--border-radius);\r\n    }\r\n    .corner-bottom-left {\r\n        border-bottom-left-radius: var(--border-radius);\r\n    }\r\n    .corner-bottom-right {\r\n        border-bottom-right-radius: var(--border-radius);\r\n    }\r\n    .corner-left {\r\n        border-top-left-radius: var(--border-radius);\r\n        border-bottom-left-radius: var(--border-radius);\r\n    }\r\n    .corner-right {\r\n        border-top-right-radius: var(--border-radius);\r\n        border-bottom-right-radius: var(--border-radius);\r\n    }\r\n    .corner-bottom {\r\n        border-bottom-left-radius: var(--border-radius);\r\n        border-bottom-right-radius: var(--border-radius);\r\n    }\r\n\r\n    /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */\r\n    @keyframes breath {\r\n        0%, 100% { transform: scale(1); }\r\n        50% { transform: scale(1.02); }\r\n    }\r\n\r\n    @keyframes float {\r\n        0%, 100% { transform: translateY(1px); }\r\n        50% { transform: translateY(-1px); }\r\n    }\r\n\r\n    @keyframes tilt {\r\n        0%, 100% { transform: rotate(-2deg); }\r\n        50% { transform: rotate(2deg); }\r\n    }\r\n\r\n    @keyframes pulse {\r\n        0%, 100% { opacity: 1; }\r\n        50% { opacity: 0.96; }\r\n    }\r\n\r\n    .img-anim-breath {\r\n        animation: breath 6s ease-in-out infinite;\r\n    }\r\n\r\n    .img-anim-float {\r\n        animation: float 5s ease-in-out infinite;\r\n    }\r\n\r\n    .img-anim-tilt {\r\n        animation: tilt 7s ease-in-out infinite;\r\n    }\r\n\r\n    .img-anim-pulse {\r\n        animation: pulse 4s ease-in-out infinite;\r\n    }\r\n\r\n    /* Layout generator */\r\n    @mixin generate-collage-layout($count, $positions, $gap) {\r\n        @for $i from 1 through length($positions) {\r\n            $pos: nth($positions, $i);\r\n            $top: nth($pos, 1);\r\n            $left: nth($pos, 2);\r\n            $width: nth($pos, 3);\r\n            $height: nth($pos, 4);\r\n\r\n            .layout-#{$count}-#{$i} {\r\n                top: calc(#{$top} + #{$gap} / 2);\r\n                left: calc(#{$left} + #{$gap} / 2);\r\n                width: calc(#{$width} - #{$gap});\r\n                height: calc(#{$height} - #{$gap});\r\n            }\r\n        }\r\n    }\r\n\r\n    @include generate-collage-layout(1, (\r\n        (0%, 0%, 100%, 100%),\r\n    ), var(--gap));\r\n\r\n    @include generate-collage-layout(2, (\r\n        (0%, 0%, 50%, 100%),\r\n        (0%, 50%, 50%, 100%)\r\n    ), var(--gap));\r\n\r\n    @include generate-collage-layout(3, (\r\n        (0%, 0%, 50%, 50%),\r\n        (0%, 50%, 50%, 50%),\r\n        (50%, 0%, 100%, 50%)\r\n    ), var(--gap));\r\n\r\n    @include generate-collage-layout(4, (\r\n        (0%, 0%, 50%, 50%),\r\n        (0%, 50%, 50%, 50%),\r\n        (50%, 0%, 50%, 50%),\r\n        (50%, 50%, 50%, 50%)\r\n    ), var(--gap));\r\n\r\n    @include generate-collage-layout(5, (\r\n        (0%, 0%, 50%, 50%),\r\n        (0%, 50%, 50%, 50%),\r\n        (50%, 0%, 50%, 50%),\r\n        (50%, 50%, 50%, 50%),\r\n        (33.33%, 33.33%, 33.33%, 33.33%)\r\n    ), var(--gap));\r\n\r\n    @include generate-collage-layout(6, (\r\n        (0%, 0%, 33.33%, 50%),\r\n        (0%, 33.33%, 33.33%, 50%),\r\n        (0%, 66.66%, 33.33%, 50%),\r\n        (50%, 0%, 33.33%, 50%),\r\n        (50%, 33.33%, 33.33%, 50%),\r\n        (50%, 66.66%, 33.33%, 50%)\r\n    ), var(--gap));\r\n\r\n    @include generate-collage-layout(7, (\r\n        (0%, 0%, 33.33%, 33.33%),\r\n        (0%, 33.33%, 33.33%, 33.33%),\r\n        (0%, 66.66%, 33.33%, 33.33%),\r\n        (33.33%, 0%, 33.33%, 33.33%),\r\n        (33.33%, 33.33%, 33.33%, 33.33%),\r\n        (33.33%, 66.66%, 33.33%, 33.33%),\r\n        (66.66%, 33.33%, 33.33%, 33.33%)\r\n    ), var(--gap));\r\n\r\n    @include generate-collage-layout(8, (\r\n        (0%, 0%, 25%, 50%),\r\n        (0%, 25%, 25%, 50%),\r\n        (0%, 50%, 25%, 50%),\r\n        (0%, 75%, 25%, 50%),\r\n        (50%, 0%, 25%, 50%),\r\n        (50%, 25%, 25%, 50%),\r\n        (50%, 50%, 25%, 50%),\r\n        (50%, 75%, 25%, 50%)\r\n    ), var(--gap));\r\n</style>\r\n","<template>\r\n    <div class=\"head\">\r\n        <label class=\"title\">{{ t('pages.favorite.title') }}</label>    \r\n        <IconButton icon=\"settings\" class=\"tertiary size-l\" @click=\"nav.open('settings')\" />\r\n    </div>\r\n\r\n    <EmptyLabel\r\n        animate-icon=\"tracks\"\r\n        :title=\"t('pages.favorite.tracks.empty.title')\"\r\n        :description=\"t('pages.favorite.tracks.empty.description')\"\r\n    />\r\n\r\n    <div class=\"more\">\r\n        <label class=\"title\">{{ t('pages.favorite.more.title') }}</label>\r\n\r\n        <div>\r\n            <Button icon=\"playlist\"\r\n                :name=\"t('pages.favorite.playlists.title')\"\r\n                class=\"tap\"\r\n                @click=\"nav.open('favorite-playlists')\" />\r\n\r\n            <Button icon=\"artists\"\r\n                :name=\"t('pages.favorite.artists.title')\"\r\n                class=\"tap\"\r\n                @click=\"nav.open('favorite-artists')\" />\r\n\r\n\r\n            <Button v-if=\"data.myArtistsPreview?.length\"\r\n                :name=\"t('pages.favorite.my-artists.title')\"\r\n                class=\"tap\"\r\n                @click=\"data.myArtistsPreview?.length === 1 ? nav.open('artist', { code: data.myArtistsPreview[0].code }) : nav.open('favorite-my-artists')\">\r\n                <template v-slot:collage>\r\n                    <Collage :items=\"data.myArtistsPreview.map(item => item.profileImage)\"\r\n                        :default=\"defaultProfileImage\"\r\n                        borderRadius=\"12px\"\r\n                    />\r\n                </template>\r\n            </Button>\r\n        </div>\r\n    </div>\r\n\r\n    <Ready page=\"favorite\" :init=\"init\" />\r\n</template>\r\n\r\n<script setup>\r\n    import { computed, onMounted, onBeforeUnmount, reactive } from 'vue';\r\n    import { useI18n } from 'vue-i18n';\r\n    import IconButton from 'üîó/components/ui/IconButton.vue';\r\n    import Button from 'üîó/components/ui/Button.vue';\r\n    import EmptyLabel from 'üîó/components/ui/EmptyLabel.vue';\r\n    import Collage from 'üîó/components/ui/Collage.vue';\r\n    import Ready from 'üîó/components/ui/Ready.vue';\r\n    import api from 'üîó/api';\r\n\r\n    const { t } = useI18n();\r\n\r\n    // import { storeToRefs } from 'pinia';\r\n    import stores from '@/stores';\r\n\r\n    const user = stores.user();\r\n    const nav = stores.nav();\r\n    const tg = stores.tg();\r\n\r\n    const others = stores.others();\r\n\r\n\r\n    const data = reactive({\r\n        myArtistsPreview: []\r\n    });\r\n\r\n    const defaultProfileImage = computed(() => {\r\n        return api.artists().defaultProfileImage;\r\n    });\r\n\r\n    const init = async () => {\r\n        const payload = await api.user().getMyArtistsPreview();\r\n\r\n        data.myArtistsPreview = payload?.items || [];\r\n    }\r\n\r\n    onMounted(() => {\r\n        tg.showSettingsButton();\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n        tg.hideSettingsButton();\r\n    });\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .head {\r\n        @include page-title;\r\n    }\r\n\r\n    .more {\r\n        padding: 0 16px var(--block-gap);\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 32px;\r\n        width: 100%;\r\n        justify-content: start;\r\n        .title {\r\n            font: var(--font-h6);\r\n            font-weight: bold;\r\n            color: var(--dark-500);\r\n        }\r\n\r\n        & > div {\r\n            display: flex;\r\n            flex-direction: row;\r\n            gap: 8px;\r\n            flex-wrap: wrap;\r\n\r\n            button {\r\n                flex: 1 1 50%;\r\n                max-width: calc(50% - 4px);\r\n            }\r\n        }\r\n    }\r\n</style>\r\n"],"names":[],"mappings":"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"}