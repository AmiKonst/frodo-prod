{"version":3,"file":"Slider-MOM2FKfE.js","sources":["../../shared/components/ui/Slider.vue"],"sourcesContent":["<template>\r\n    <div\r\n        class=\"slider lock-page-swipe\"\r\n        ref=\"sliderRef\"\r\n        :style=\"sliderStyle\"\r\n        @scroll=\"onScroll\"\r\n        @touchend=\"onScrollEnd\"\r\n        @mouseup=\"onScrollEnd\"\r\n    >\r\n        <div\r\n            v-for=\"(col, colIndex) in visibleCols\"\r\n            :key=\"colKey(col)\"\r\n            class=\"slider-col\"\r\n            :style=\"{\r\n                ...colStyle,\r\n                scrollSnapAlign: props.colAlign === 'board' ? (\r\n                    colIndex === 0 ? 'start' : ( colIndex === visibleCols?.length - 1 ? 'end' : 'none' )\r\n                ) : colStyle.scrollSnapAlign\r\n            }\"\r\n            @click=\"setActiveCol(computeRealIndex(colIndex))\"\r\n        >\r\n            <div\r\n                v-for=\"(item, rowIndex) in col\"\r\n                :key=\"item.code\"\r\n                class=\"slider-item\"\r\n                :style=\"itemStyle\"\r\n            >\r\n                <slot :item=\"item\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, watch, nextTick, onMounted, onActivated } from 'vue';\r\nimport stores from '@/stores';\r\n\r\nconst props = defineProps({\r\n    items: { type: Array, default: () => [] },\r\n    itemsInCol: { type: Number, default: 1 },\r\n    colPreloadCount: { type: [Number, null], default: null },\r\n    itemWidth: { type: [String, null], default: null },\r\n    itemHeight: { type: [String, null], default: null },\r\n    colAlign: { type: String, default: 'center' },\r\n    colGap: { type: String, default: '0px' },\r\n    rowGap: { type: String, default: '0px' },\r\n    overflow: { type: [String, null], default: null },\r\n    disabled: { type: Boolean, default: false },\r\n    loop: { type: Boolean, default: false },\r\n    snapType: { type: String, default: 'x mandatory' },\r\n});\r\n\r\nconst dynamicColAlign = ref(props.colAlign);\r\nconst prevActiveColIndex = ref(0);\r\n\r\nconst emit = defineEmits(['change']);\r\n\r\nconst sliderRef = ref(null);\r\nconst activeColIndex = ref(0);\r\n\r\nconst locale = stores.locale();\r\n\r\n\r\nonActivated(() => {\r\n    scrollToActiveCol(false);\r\n})\r\n\r\n// Разбиваем items на колонки по itemsInCol\r\nconst cols = computed(() => {\r\n    const result = [];\r\n    for (let i = 0; i < props.items.length; i += props.itemsInCol) {\r\n        result.push(props.items.slice(i, i + props.itemsInCol));\r\n    }\r\n    return result;\r\n});\r\n\r\nconst totalCols = computed(() => cols.value.length);\r\n\r\n// Нормализуем индекс activeCol по модулю количества колонок\r\nconst normalizedActiveColIndex = computed(() => {\r\n    return ((activeColIndex.value % totalCols.value) + totalCols.value) % totalCols.value;\r\n});\r\n\r\n// В цикличном режиме считаем видимые колонки с учетом preload\r\nconst visibleCols = computed(() => {\r\n    if (totalCols.value === 0) {\r\n        return [];\r\n    }\r\n\r\n    const preload = props.colPreloadCount ?? 0;\r\n\r\n    if (!props.loop || props.colPreloadCount === null) {\r\n        return cols.value.slice(startColIndex.value, endColIndex.value);\r\n    }\r\n\r\n    const result = [];\r\n    const center = normalizedActiveColIndex.value;\r\n\r\n    for (let i = center - preload; i <= center + preload; i++) {\r\n        const idx = ((i % totalCols.value) + totalCols.value) % totalCols.value;\r\n        result.push(cols.value[idx]);\r\n    }\r\n    return result;\r\n});\r\n\r\n// В обычном режиме start и end для среза visibleCols\r\nconst startColIndex = computed(() => {\r\n    if (props.colPreloadCount === null) {\r\n        return 0;\r\n    }\r\n\r\n    const preload = props.colPreloadCount;\r\n    return Math.max(0, activeColIndex.value - preload);\r\n});\r\n\r\nconst endColIndex = computed(() => {\r\n    if (props.colPreloadCount === null) {\r\n        return totalCols.value;\r\n    }\r\n\r\n    const preload = props.colPreloadCount;\r\n    return Math.min(totalCols.value, activeColIndex.value + preload + 1);\r\n});\r\n\r\nconst sliderStyle = computed(() => ({\r\n    display: 'flex',\r\n    overflowX: props.overflow === 'hidden' ? 'hidden' : 'auto',\r\n    scrollSnapType: props.snapType,\r\n    gap: props.colGap,\r\n    direction: locale.rtl ? 'rtl' : 'ltr',\r\n    scrollBehavior: 'smooth', //'auto' //'smooth'\r\n}));\r\n\r\nconst colStyle = computed(() => ({\r\n    flex: '0 0 auto',\r\n    scrollSnapAlign: props.colAlign === 'board' ? null : (dynamicColAlign.value === 'auto-direction' ? 'start' : dynamicColAlign.value),\r\n    width: props.itemWidth || '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: props.rowGap\r\n}));\r\n\r\nconst itemStyle = computed(() => ({\r\n    height: props.itemHeight || '100%'\r\n}));\r\n\r\n// Генерируем уникальный ключ для колонки — учитываем индекс для отличия одинаковых массивов при цикле\r\nconst colKey = (col) => {\r\n    // Можно для безопасности добавить индекс в ключ, т.к. при цикле col может повторяться\r\n    return col.map(item => item.code).join('_');\r\n};\r\n\r\n// Вычисляем реальный индекс колонки в полном массиве cols по индексу в visibleCols\r\nconst computeRealIndex = (visibleIndex) => {\r\n    if (!props.loop || props.colPreloadCount === null) {\r\n        return startColIndex.value + visibleIndex;\r\n    }\r\n\r\n    const preload = props.colPreloadCount;\r\n    const realIndex = activeColIndex.value - preload + visibleIndex;\r\n    // Нормализуем по модулю\r\n    return ((realIndex % totalCols.value) + totalCols.value) % totalCols.value;\r\n};\r\n\r\n// const scrollToActiveCol = async (animate = true) => {\r\n//     await nextTick();\r\n\r\n//     const slider = sliderRef.value;\r\n//     if (!slider) return;\r\n\r\n//     if (!props.loop || props.colPreloadCount === null) {\r\n//         const relativeIndex = activeColIndex.value - startColIndex.value;\r\n//         const col = slider.children[relativeIndex];\r\n//         if (!col) return;\r\n\r\n//         if (!animate) {\r\n//             const originalBehavior = slider.style.scrollBehavior;\r\n//             slider.style.scrollBehavior = 'auto';\r\n\r\n//             col.scrollIntoView({\r\n//                 behavior: 'auto',\r\n//                 block: 'nearest',\r\n//                 inline: 'center',\r\n//             });\r\n\r\n//             requestAnimationFrame(() => {\r\n//                 slider.style.scrollBehavior = originalBehavior || 'smooth';\r\n//             });\r\n//         } else {\r\n//             col.scrollIntoView({\r\n//                 behavior: 'smooth',\r\n//                 block: 'nearest',\r\n//                 inline: 'center',\r\n//             });\r\n//         }\r\n//         return;\r\n//     }\r\n\r\n//     // В цикличном режиме активный столбец в центре среза visibleCols\r\n//     const preload = props.colPreloadCount;\r\n//     const visibleIndex = preload;\r\n//     const col = slider.children[visibleIndex];\r\n//     if (!col) {\r\n//         return;\r\n//     }\r\n\r\n//     if (!animate) {\r\n//         const originalBehavior = slider.style.scrollBehavior;\r\n//         slider.style.scrollBehavior = 'auto';\r\n\r\n//         col.scrollIntoView({\r\n//             behavior: 'auto',\r\n//             block: 'nearest',\r\n//             inline: 'center'\r\n//         });\r\n\r\n//         requestAnimationFrame(() => {\r\n//             slider.style.scrollBehavior = originalBehavior || 'smooth';\r\n//         });\r\n//     } else {\r\n//         col.scrollIntoView({\r\n//             behavior: 'smooth',\r\n//             block: 'nearest',\r\n//             inline: 'center'\r\n//         });\r\n//     }\r\n// };\r\n\r\nconst scrollToActiveCol = async (animate = true) => {\r\n    await nextTick();\r\n\r\n    const slider = sliderRef.value;\r\n    if (!slider) return;\r\n\r\n    const originalBehavior = slider.style.scrollBehavior;\r\n    slider.style.scrollBehavior = animate ? 'smooth' : 'auto';\r\n\r\n    // получаем элемент активной колонки\r\n    let col;\r\n    if (!props.loop || props.colPreloadCount === null) {\r\n        const relativeIndex = activeColIndex.value - startColIndex.value;\r\n        col = slider.children[relativeIndex];\r\n    } else {\r\n        const preload = props.colPreloadCount;\r\n        col = slider.children[preload];\r\n    }\r\n\r\n    if (!col) {\r\n        slider.style.scrollBehavior = originalBehavior;\r\n        return;\r\n    }\r\n\r\n    // вместо scrollIntoView используем точный scrollLeft\r\n    const targetLeft =\r\n        col.offsetLeft - slider.clientWidth / 2 + col.clientWidth / 2;\r\n\r\n    slider.scrollLeft = targetLeft;\r\n\r\n    // возвращаем scroll-behavior\r\n    requestAnimationFrame(() => {\r\n        slider.style.scrollBehavior = originalBehavior || 'auto';\r\n    });\r\n};\r\n\r\n\r\nconst setActiveCol = async (index) => {\r\n    if (totalCols.value === 0) {\r\n        return;\r\n    }\r\n\r\n    if (!props.loop && (index < 0 || index >= totalCols.value)) {\r\n        return;\r\n    }\r\n\r\n    // Очистим отложенный таймер скролла — клик пользователя важнее\r\n    clearTimeout(scrollEndTimeout);\r\n\r\n    // Установим выравнивание раньше, ДО прокрутки\r\n    if (props.colAlign === 'auto-direction') {\r\n        if (index > activeColIndex.value) {\r\n            dynamicColAlign.value = 'start';\r\n        } else if (index < activeColIndex.value) {\r\n            dynamicColAlign.value = 'end';\r\n        } else {\r\n            dynamicColAlign.value = 'start'; // или center/left\r\n        }\r\n    }\r\n\r\n    if (activeColIndex.value !== index) {\r\n        activeColIndex.value = index;\r\n        emit('change', cols.value[normalizedActiveColIndex.value]);\r\n    }\r\n\r\n    await scrollToActiveCol(false);\r\n};\r\n\r\nlet scrollEndTimeout = null;\r\n\r\nconst onScroll = () => {\r\n    clearTimeout(scrollEndTimeout);\r\n\r\n    if (props.colAlign === 'none' || props.colAlign === 'board') {\r\n        return;\r\n    }\r\n\r\n    if (props.loop) {\r\n        scrollEndTimeout = setTimeout(() => {\r\n            updateActiveColByScroll();\r\n        }, 400);\r\n    }\r\n};\r\n\r\nconst onScrollEnd = () => {\r\n    // console.log('end')\r\n    // clearTimeout(scrollEndTimeout);\r\n    // scrollEndTimeout = setTimeout(() => {\r\n    //     console.log('>')\r\n    //     updateActiveColByScroll();\r\n    // }, 600);\r\n};\r\n\r\nconst updateActiveColByScroll = () => {\r\n    const slider = sliderRef.value;\r\n    if (!slider) {\r\n        return;\r\n    }\r\n\r\n    const sliderRect = slider.getBoundingClientRect();\r\n\r\n    let minDistance = Infinity;\r\n    let closestIndex = 0;\r\n\r\n    Array.from(slider.children).forEach((colEl, i) => {\r\n        const colRect = colEl.getBoundingClientRect();\r\n        const colCenter = colRect.left + colRect.width / 2;\r\n        const sliderCenter = sliderRect.left + sliderRect.width / 2;\r\n        const distance = Math.abs(colCenter - sliderCenter);\r\n\r\n        if (distance < minDistance) {\r\n            minDistance = distance;\r\n            closestIndex = i;\r\n        }\r\n    });\r\n\r\n    let newActiveCol;\r\n    if (!props.loop || props.colPreloadCount === null) {\r\n        newActiveCol = startColIndex.value + closestIndex;\r\n    } else {\r\n        const preload = props.colPreloadCount;\r\n        newActiveCol = activeColIndex.value - preload + closestIndex;\r\n    }\r\n\r\n    // В режиме без цикла проверяем границы\r\n    if (!props.loop) {\r\n        if (newActiveCol < 0) newActiveCol = 0;\r\n        if (newActiveCol >= totalCols.value) newActiveCol = totalCols.value - 1;\r\n    }\r\n\r\n    if (newActiveCol !== activeColIndex.value) {\r\n        setActiveCol(newActiveCol);\r\n    }\r\n};\r\n\r\nconst showItem = (code) => {\r\n    const colIndex = cols.value.findIndex(col => col.some(item => item.code === code));\r\n    if (colIndex !== -1) {\r\n        setActiveCol(colIndex);\r\n    }\r\n};\r\n\r\nwatch(\r\n    [() => props.items, () => props.itemsInCol],\r\n    async () => {\r\n        await nextTick(); // Убедимся, что cols пересчитались\r\n\r\n        if (totalCols.value === 0) {\r\n            activeColIndex.value = 0;\r\n            return;\r\n        }\r\n\r\n        // Если активной колонки больше нет — сбрасываем индекс\r\n        if (activeColIndex.value >= totalCols.value) {\r\n            activeColIndex.value = 0;\r\n        }\r\n\r\n        await scrollToActiveCol(false);\r\n    },\r\n    { deep: true }\r\n);\r\n\r\ndefineExpose({ showItem });\r\n\r\nonMounted(() => {\r\n    if (props.colAlign === 'auto-direction') {\r\n        dynamicColAlign.value = 'start';\r\n    }\r\n\r\n    scrollToActiveCol(false);\r\n});\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.slider {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    overflow-x: auto;\r\n    scroll-behavior: auto; //smooth;\r\n    -webkit-overflow-scrolling: touch;\r\n    -ms-overflow-style: none;\r\n    scrollbar-width: none;\r\n\r\n    &::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n}\r\n\r\n.slider-col {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    .slider-item {\r\n        width: 100%;\r\n    }\r\n}\r\n</style>\r\n"],"names":[],"mappings":"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"}