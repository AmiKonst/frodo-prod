{"version":3,"file":"ModalWelcome-BOb051Hb.js","sources":["../../shared/components/ui/Steps.vue","../../src/components/modals/ModalWelcome.vue"],"sourcesContent":["<template>\r\n    <ul>\r\n        <li v-for=\"(item, id) in items\" :class=\"{ active: id + 1 === props.value }\"></li>\r\n    </ul>\r\n</template>\r\n\r\n<script setup>\r\n    import { computed } from 'vue';\r\n\r\n    const props = defineProps({\r\n        total: { type: Number, default: 1 },\r\n        value: { type: Number, default: 1 }\r\n    });\r\n\r\n    const items = computed(() => {\r\n        return Array(props.total);\r\n    })\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nul {\r\n    padding: 0;\r\n    margin: 0;\r\n    list-style: none;\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 6px;\r\n\r\n    li {\r\n        height: 4px;\r\n        width: 4px;\r\n        display: flex;\r\n        flex-shrink: 0;;\r\n        transition: all .4s;\r\n        background: var(--dark-80);\r\n        border-radius: 5px;\r\n        // animation: fadeOut 4s; \r\n\r\n        &.active {\r\n            width: 40px;\r\n            background: var(--gradient-2);\r\n        }\r\n    }   \r\n}\r\n</style>\r\n","<template>\r\n    <BaseModal name=\"loader\" :full=\"true\">\r\n        <template v-slot:content>\r\n            <div class=\"welcome-box\"\r\n                v-touch:swipe.left=\"next\"\r\n                v-touch:swipe.right=\"prev\"\r\n                @click=\"next\"\r\n            >\r\n                <div v-for=\"(item, itemId) in data.slides\" :key=\"itemId\"\r\n                    :style=\"{\r\n                        'background-image': `url(${baseUrl}/themes/${theme}/welcome/${item.code}.jpg)`,\r\n                        'background-color': 'var(--white-500)'\r\n                    }\"\r\n                >\r\n                    <label class=\"title\" v-html=\"item.title\"></label>\r\n                    <div class=\"description\">{{ item.description }}</div>\r\n                </div>\r\n\r\n                <div>\r\n                    <label class=\"title\" v-html=\"data.slides[data.slides.length - 1].title\"></label>\r\n                    <div class=\"description\">{{ data.slides[data.slides.length - 1].description }}</div>\r\n                    \r\n                    <Steps :total=\"3\" :value=\"id + 1\" v-if=\"id !== slides.length - 1\" />\r\n\r\n                   <!--  <Button\r\n                        icon=\"chevron-right\"\r\n                        @click=\"next\"\r\n                    /> -->\r\n\r\n\r\n                    <div v-if=\"id === slides.length - 1\" class=\"enter-box\">\r\n                        <div>\r\n                            <span>\r\n                                {{ t('modals.welcome.terms') }}\r\n                                <Button\r\n                                    :name=\"t('modals.welcome.terms-button')\"\r\n                                    class=\"tertiary size-s\"\r\n                                    @click.stop=\"tg.openLink({\r\n                                        'external_url': 'https://github.com/Bilbo-Music/bilbo-docs-public/blob/main/terms%20of%20service/Bilbo%20Music.md'\r\n                                    })\"\r\n                                />\r\n                                {{ t('modals.welcome.terms-2') }}\r\n                            </span>\r\n                        </div>\r\n                        <Button :name=\"t('modals.welcome.close')\" @click=\"close\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </BaseModal>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, computed } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport BaseModal from 'ðŸ”—/components/modals/BaseModal.vue';\r\nimport Loader from 'ðŸ”—/components/ui/Loader.vue';\r\nimport Steps from 'ðŸ”—/components/ui/Steps.vue';\r\nimport Button from 'ðŸ”—/components/ui/Button.vue';\r\n\r\nimport { storeToRefs } from 'pinia';\r\nimport stores from '@/stores';\r\nimport { baseUrl } from 'ðŸ”—/utils/utils';\r\n\r\nconst others = stores.others();\r\nconst tg = stores.tg();\r\nconst { theme } = storeToRefs(others);\r\n\r\nconst modals = stores.modals();\r\n\r\n\r\nconst { t, tm, rt } = useI18n();\r\n\r\nconst slides = Array.isArray(tm('modals.welcome.slides')) ? tm('modals.welcome.slides').map(item => ({\r\n    code: rt(item.code),\r\n    title: rt(item.title),\r\n    description: rt(item.description)\r\n})) : [];\r\n\r\nconst data = reactive({\r\n    slides: [slides[0]]\r\n});\r\n\r\nconst id = computed(() => {\r\n    return slides.findIndex(item => item.code === data.slides[data.slides.length - 1].code);\r\n});\r\n\r\nconst next = () => {\r\n    let nextId = id.value;\r\n\r\n    if (nextId === -1) {\r\n        return;\r\n    }\r\n\r\n    nextId += 1;\r\n    if (nextId > slides.length - 1) {\r\n        nextId = 0;\r\n    }\r\n\r\n    data.slides.push(slides[nextId]);\r\n}\r\n\r\nconst prev = () => {\r\n    let nextId = id.value;\r\n\r\n    if (nextId === -1) {\r\n        return;\r\n    }\r\n\r\n    nextId -= 1;\r\n    if (nextId < 0) {\r\n        nextId = slides.length - 1;\r\n    }\r\n\r\n    data.slides.push(slides[nextId]);\r\n}\r\n\r\nconst close = () => {\r\n    localStorage.welcome = true;\r\n\r\n    modals.close('welcome');\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .welcome-box {\r\n        position: fixed;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: var(--white-500);\r\n        @include fade-center;\r\n\r\n        & > div {\r\n            position: absolute;\r\n            left: 0;\r\n            right: 0;\r\n            top: 0;\r\n            bottom: 0;\r\n            border-color: var(--white-500);\r\n            background-size: cover;\r\n            background-position: right bottom;\r\n            padding: 100px 20px 40px 20px;\r\n            display: flex;\r\n            align-items: start;\r\n            flex-direction: column;\r\n            gap: 20px;\r\n            opacity: 0;\r\n            animation: fadeIn .2s forwards; \r\n\r\n            &:last-child:before {\r\n                content: '';\r\n                position: absolute;\r\n                left: 0;\r\n                top: 0;\r\n                bottom: 0;\r\n                right: 0;\r\n                background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 64%, var(--white-500) 95%, var(--white-500) 100%);\r\n                pointer-events: none;\r\n            }\r\n\r\n            .title {\r\n                font: var(--font-h4);\r\n                font-weight: bold;\r\n                color: var(--dark-500);\r\n            }\r\n\r\n            .description {\r\n                font: var(--font-body-1);\r\n                color: var(--dark-500);\r\n                text-shadow: 0 0 8px var(--white-500);\r\n            }\r\n\r\n            & > ul {\r\n                margin: auto auto 0;\r\n                z-index: 1;\r\n            }\r\n\r\n            & > button {\r\n                border-radius: 50%;;\r\n            }\r\n\r\n            .enter-box {\r\n                margin-top: auto;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n                width: 100%;\r\n                z-index: 1;\r\n                flex: 1 1;\r\n                gap: 10px;\r\n                div {\r\n                    margin-top: auto;\r\n                    display: inline;\r\n                    span {\r\n                        font: var(--font-caption);\r\n                        color: var(--dark-500);\r\n                        text-align: center;\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                        gap: 0;\r\n                    }\r\n                }\r\n                button {\r\n                    // flex: 1 1 100%;\r\n                    width: 100%;\r\n                    flex-shrink: 0;\r\n                }\r\n            }\r\n\r\n\r\n            &.last-child {\r\n                .title,\r\n                .description {\r\n                    opacity: 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        @keyframes fadeIn {\r\n            to {\r\n                opacity: 1;\r\n            }\r\n        }\r\n    }\r\n    \r\n</style>\r\n"],"names":[],"mappings":"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"}