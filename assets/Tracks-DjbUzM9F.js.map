{"version":3,"file":"Tracks-DjbUzM9F.js","sources":["../../src/pages/Artists/Tracks.vue"],"sourcesContent":["<template>\r\n    <Tracks\r\n        v-if=\"data.item?.id\"\r\n        :params=\"{\r\n            contributors: data.item.id,\r\n            state: 'PUBLISHED'\r\n        }\"\r\n        :sort=\"{\r\n            code: 'ratingTotal',\r\n            direction: 'desc'\r\n        }\"\r\n        :options=\"{\r\n            type: 'artist',\r\n            id: data.item.id\r\n        }\"\r\n        :showKebab=\"true\"\r\n        :loadMore=\"true\"\r\n        title=\"blocks.tracks.popular-tracks\"\r\n    />\r\n      \r\n    <Ready :page=\"`artist-tracks-${props.code}`\" :init=\"init\" />\r\n</template>\r\n\r\n<script setup>\r\n    import { onMounted, onBeforeUnmount, reactive, computed } from 'vue';\r\n    import api from 'ðŸ”—/api';\r\n    import stores from '@/stores';\r\n    import Ready from 'ðŸ”—/components/ui/Ready.vue';\r\n\r\n    import Tracks from 'ðŸ”—/components/blocks/Tracks.vue';\r\n    import { useI18n } from 'vue-i18n';\r\n\r\n    const { t } = useI18n();\r\n\r\n    const tg = stores.tg();\r\n    const modals = stores.modals();\r\n\r\n    const props = defineProps({\r\n        code: { type: String }\r\n    });\r\n\r\n    const data = reactive({\r\n        ready: false,\r\n        item: null\r\n    });\r\n\r\n    const init = async () => {\r\n        data.item = await api.artists().getByCode(props.code);\r\n        data.ready = true;\r\n    }\r\n\r\n    const openArtist = () => {\r\n        modals.open('artist', { quietClose: true, data: { code: props.code } })\r\n    }\r\n\r\n    const openArtistKebab = () => {\r\n        modals.open('artist-kebab', { quietClose: true, data: { code: props.code } })\r\n    }\r\n\r\n    onMounted(async () => {\r\n        tg.showBackButton();\r\n        tg.showSettingsButton(openArtistKebab);\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n        tg.hideSettingsButton(openArtistKebab);\r\n        tg.hideBackButton();\r\n    });\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;AAuBc;AACd,IAQI,MAAM,EAAE,CAAC,EAAE,GAAG,OAAO,EAAE,CAAC;AAC5B;AACA,IAAI,MAAM,EAAE,GAAG,MAAM,CAAC,EAAE,EAAE,CAAC;AAC3B,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AACnC;AACA,IAAI,MAAM,KAAK,GAAG,OAEZ,CAAC;AACP;AACA,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC;AAC1B,QAAQ,KAAK,EAAE,KAAK;AACpB,QAAQ,IAAI,EAAE,IAAI;AAClB,KAAK,CAAC,CAAC;AACP;AACA,IAAI,MAAM,IAAI,GAAG,YAAY;AAC7B,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,GAAG,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC9D,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAC1B,IAAI,EAAC;AAKL;AACA,IAAI,MAAM,eAAe,GAAG,MAAM;AAClC,QAAQ,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,EAAE,EAAC;AACrF,IAAI,EAAC;AACL;AACA,IAAI,SAAS,CAAC,YAAY;AAC1B,QAAQ,EAAE,CAAC,cAAc,EAAE,CAAC;AAC5B,QAAQ,EAAE,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;AAC/C,IAAI,CAAC,CAAC,CAAC;AACP;AACA,IAAI,eAAe,CAAC,MAAM;AAC1B,QAAQ,EAAE,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;AAC/C,QAAQ,EAAE,CAAC,cAAc,EAAE,CAAC;AAC5B,IAAI,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}